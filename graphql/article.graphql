type Article {
  id: ID!
  title: String!
  content: String!
  author_name: String!
  author_image: String
  is_active: Boolean
  user: User
  publish_date: DateTime
  created_at: String
  updated_at: DateTime
}



input ArticleInput {
  title: TranslatableInput!
  content: TranslatableInput!
  author_name: TranslatableInput!
  is_active: Boolean
  publish_date: DateTime
}   

extend type Query {
  articles_for_admin(
    first: Int! = 10,
    page: Int = 1
  ): Article!
      @guard(with: ["api"])
      @can(ability: "article.view")
      @paginate(type: "PAGINATOR", model: "App\\Models\\Article")

  articles_for_public(
    first: Int! = 10,
    page: Int = 1
  ): Article!
    @paginate(type: "PAGINATOR", model: "App\\Models\\Article")
    @where(key: "is_active", operator: "=", value: true)

  article(id: ID! @eq): Article @find
}

extend type Mutation {
  CreateArticle(input: ArticleInput!, image: Upload): Article
    @guard(with: ["api"])
    @can(ability: "article.create")
    @field(resolver: "App\\GraphQL\\Mutations\\ArticleMutator@create")

  UpdateArticle(id: ID!, input: ArticleInput!, image: Upload): Article
    @guard(with: ["api"])
    @can(ability: "article.update")
    @field(resolver: "App\\GraphQL\\Mutations\\ArticleMutator@update")

  DeleteArticle(id: ID!): Boolean
    @guard(with: ["api"])
    @can(ability: "article.delete", model: "App\\Models\\Article")
    @field(resolver: "App\\GraphQL\\Mutations\\ArticleMutator@delete")
}