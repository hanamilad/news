type Category @model(class: "App\\Models\\Category") {
  id: ID!
  name: String!
  show_in_navbar: Boolean
  show_in_homepage: Boolean
  template : Template
}

input CategoryInput {
  name: TranslatableInput!
  show_in_navbar : Boolean
  show_in_homepage: Boolean
  template_id:ID!
}

extend type Query {
  categories: [Category!]! @all
  category(id: ID! @eq): Category @find
}

extend type Mutation {
  CreateCategory(input: CategoryInput!): Category 
    @guard(with: ["api"])
    @can(ability: "categories.create")
    @field(resolver: "App\\GraphQL\\Mutations\\CategoryMutator@create")

  UpdateCategory(id: ID!, input: CategoryInput!): Category 
    @guard(with: ["api"])
    @can(ability: "categories.update")
    @field(resolver: "App\\GraphQL\\Mutations\\CategoryMutator@update")

  DeleteCategory(id: ID!): Boolean 
    @guard(with: ["api"])
    @can(ability: "categories.delete", model: "App\\Models\\Category")
    @field(resolver: "App\\GraphQL\\Mutations\\CategoryMutator@delete")
}
