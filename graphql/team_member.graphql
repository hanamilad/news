type TeamMember @model(class: "App\\Models\\TeamMember") {
id: ID!
name: String!
position: String!
bio: String
image: String
is_active: Boolean
}


input TeamMemberInput {
  name: TranslatableInput!
  position: TranslatableInput!
  bio: TranslatableInput!
  is_active: Boolean
}   

extend type Query {
  team_member_for_admin: [TeamMember!]!
    @guard(with: ["api"])
    @can(ability: "team_member.view")
    @all(model: "App\\Models\\TeamMember")

  team_member_for_public: [TeamMember!]!
    @all(model: "App\\Models\\TeamMember")
    @where(key: "is_active", operator: "=", value: true)
}

extend type Mutation {
  CreateTeamMember(input: TeamMemberInput!, image: Upload): TeamMember
    @guard(with: ["api"])
    @can(ability: "team_member.create")
    @field(resolver: "App\\GraphQL\\Mutations\\TeamMemberMutator@create")

  UpdateTeamMember(id: ID!, input: TeamMemberInput!, image: Upload): TeamMember
    @guard(with: ["api"])
    @can(ability: "team_member.update")
    @field(resolver: "App\\GraphQL\\Mutations\\TeamMemberMutator@update")

  DeleteTeamMember(id: ID!): Boolean
    @guard(with: ["api"])
    @can(ability: "team_member.delete", model: "App\\Models\\TeamMember")
    @field(resolver: "App\\GraphQL\\Mutations\\TeamMemberMutator@delete")
}
